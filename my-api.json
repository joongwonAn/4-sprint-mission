{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Channel","description":"Channel API"},{"name":"ReadStatus","description":"Message 읽음 상태 API"},{"name":"Message","description":"Message API"},{"name":"User","description":"User API"},{"name":"BinaryContent","description":"첨부 파일 API"},{"name":"Auth","description":"인증 API"}],"paths":{"/api/users":{"get":{"tags":["User"],"summary":"전체 User 목록 조회","operationId":"findAll","responses":{"200":{"description":"User 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":[{"id":"59cdbeac-c530-47d8-905c-90fdaaf91884","createdAt":"2025-07-14T05:23:03.776183Z","updatedAt":null,"username":"test","email":"test@codeit.com","profileId":"cd5da335-e8ea-4764-9563-1c10bd1e1938","online":false},{"id":"d6375170-ee7e-40ca-8868-151e5855fcfb","createdAt":"2025-07-14T05:28:44.649560Z","updatedAt":null,"username":"test2","email":"test2@codeit.com","profileId":null,"online":true}]}}}}},"post":{"tags":["User"],"summary":"User 등록","operationId":"create","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"userCreateRequest":{"$ref":"#/components/schemas/UserCreateRequest"},"profile":{"type":"string","format":"binary"}},"required":["userCreateRequest"]}}}},"responses":{"201":{"description":"User가 성공적으로 생성됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"username":"test","email":"test@codeit.com","password":"testPw","profileId":"812384b6-277b-40bb-bdd0-d6c08c892790","id":"37fd9252-55c2-41b0-a70b-692c9489c389","createdAt":"2025-07-14T04:32:24.417266Z","updatedAt":null}}}},"400":{"description":"같은 email 또는 username를 사용하는 User가 이미 존재함","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"User with email {email} already exists | User with username {username} already exists\n"}}}}}},"/api/read-statuses":{"post":{"tags":["ReadStatus"],"summary":"Message 읽음 상태 생성","operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadStatusCreateRequest"}}},"required":true},"responses":{"404":{"description":"Channel 또는 User를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"Channel | User with id {channelId | userId} not found\n"}}},"400":{"description":"이미 읽음 상태가 존재함","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"ReadStatus with userId {userId} and channelId {channelId} already exists\n"}}},"201":{"description":"Message 읽음 상태가 성공적으로 생성됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"userId":"59cdbeac-c530-47d8-905c-90fdaaf91884","channelId":"e3d222da-e7fd-40a1-a835-37bed9bbb6cf","lastReadAt":"2025-07-15T14:58:00Z","id":"52623bdc-fb65-4315-9c2b-d85856ccf54d","createdAt":"2025-07-15T11:54:42.141506Z","updatedAt":null}}}}}}},"/api/messages":{"post":{"tags":["Message"],"summary":"Message 생성","operationId":"create_2","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"messageCreateRequest":{"$ref":"#/components/schemas/MessageCreateRequest"},"attachments":{"type":"array","items":{"type":"string","format":"binary"}}},"required":["messageCreateRequest"]}}}},"responses":{"201":{"description":"Message가 성공적으로 생성됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"404":{"description":"Channel 또는 User를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}}}},"/api/channels/public":{"post":{"tags":["Channel"],"summary":"Public Channel 생성","operationId":"create_3","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicChannelCreateRequest"}}},"required":true},"responses":{"201":{"description":"Public Channel이 성공적으로 생성됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"type":"PUBLIC","name":"PublicChannel1","description":"Create public channel #1","id":"8fecadca-93a0-446e-a7cf-2638f293c93d","createdAt":"2025-07-14T07:54:52.545917Z","updatedAt":null}}}}}}},"/api/channels/private":{"post":{"tags":["Channel"],"summary":"Private Channel 생성","operationId":"create_4","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateChannelCreateRequest"}}},"required":true},"responses":{"201":{"description":"Private Channel이 성공적으로 생성됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"type":"PRIVATE","name":null,"description":null,"id":"a5a4026a-f112-4398-8f88-a178a41001ce","createdAt":"2025-07-14T07:58:15.710845Z","updatedAt":null}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"summary":"로그인","description":"이름, 비밀번호로 로그인","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"404":{"description":"사용자를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"User with username {username} not found\n"}}},"200":{"description":"로그인 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"username":"test","email":"test@codeit.com","password":"testPw","profileId":"cd5da335-e8ea-4764-9563-1c10bd1e1938","id":"59cdbeac-c530-47d8-905c-90fdaaf91884","createdAt":"2025-07-14T05:23:03.776183Z","updatedAt":null}}}},"400":{"description":"비밀번호가 일치하지 않음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"Wrong password\n"}}}}}},"/api/users/{user-id}":{"delete":{"tags":["User"],"summary":"User 삭제","operationId":"delete","parameters":[{"name":"user-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"User를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"User with id {id} not found\n"}}},"204":{"description":"User가 성공적으로 삭제됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}}},"patch":{"tags":["User"],"summary":"User 정보 수정","operationId":"update","parameters":[{"name":"user-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"userUpdateRequest":{"$ref":"#/components/schemas/UserUpdateRequest"},"profile":{"type":"string","format":"binary"}},"required":["userUpdateRequest"]}}}},"responses":{"404":{"description":"User를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"User with id {id} not found\n"}}},"400":{"description":"같은 email 또는 username를 사용하는 User가 이미 존재함","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"User with username {username} already exists\n"}}},"200":{"description":"User 정보가 성공적으로 수정됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"username":"newTest2","email":"test2@codeit.com","password":"test2Pw","profileId":null,"id":"d6375170-ee7e-40ca-8868-151e5855fcfb","createdAt":"2025-07-14T05:28:44.649560Z","updatedAt":"2025-07-14T05:47:48.610677Z"}}}}}}},"/api/users/{user-id}/user-status":{"patch":{"tags":["User"],"summary":"User 온라인 상태 업데이트","operationId":"updateUserStatusByUserId","parameters":[{"name":"user-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusUpdateRequest"}}},"required":true},"responses":{"200":{"description":"User 온라인 상태가 성공적으로 업데이트됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"userId":"59cdbeac-c530-47d8-905c-90fdaaf91884","lastActiveAt":"2025-07-14T04:30:00Z","id":"0e505783-5574-4664-b97c-28e7f8a78ad2","createdAt":"2025-07-14T05:23:03.777053Z","updatedAt":"2025-07-14T06:55:13.651444Z","online":false}}}},"404":{"description":"해당 User의 UserStatus를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}}}},"/api/read-statuses/{read-status-id}":{"patch":{"tags":["ReadStatus"],"summary":"Message 읽음 상태 수정","operationId":"update_1","parameters":[{"name":"read-status-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadStatusUpdateRequest"}}},"required":true},"responses":{"404":{"description":"Message 읽음 상태를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"ReadStatus with id {read-status-id} not found\n"}}},"200":{"description":"Message 읽음 상태가 성공적으로 수정됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"userId":"59cdbeac-c530-47d8-905c-90fdaaf91884","channelId":"e3d222da-e7fd-40a1-a835-37bed9bbb6cf","lastReadAt":"2025-07-15T10:00:00Z","id":"52623bdc-fb65-4315-9c2b-d85856ccf54d","createdAt":"2025-07-15T11:54:42.141506Z","updatedAt":"2025-07-15T11:59:14.752380Z"}}}}}}},"/api/messages/{message-id}":{"delete":{"tags":["Message"],"summary":"Message 삭제","operationId":"delete_1","parameters":[{"name":"message-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"204":{"description":"Message가 성공적으로 삭제됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"404":{"description":"Message를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}}},"patch":{"tags":["Message"],"summary":"Message 내용 수정","operationId":"update_2","parameters":[{"name":"message-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Message 읽음 상태 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"404":{"description":"Message를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}}}},"/api/channels/public/{channel-id}":{"patch":{"tags":["Channel"],"summary":"Channel 정보 수정","operationId":"update_3","parameters":[{"name":"channel-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicChannelUpdateRequest"}}},"required":true},"responses":{"404":{"description":"Channel을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"Channel with id {channelId} not found\n"}}},"400":{"description":"Private Channel은 수정할 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"\"Private channel cannot be updated\n"}}},"200":{"description":"Channel 정보가 성공적으로 수정됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":{"type":"PUBLIC","name":"NewPublicChannel","description":"update public channel","id":"8fecadca-93a0-446e-a7cf-2638f293c93d","createdAt":"2025-07-14T07:54:52.545917Z","updatedAt":"2025-07-14T09:10:02.738375Z"}}}}}}},"/api/users/{user-id}/read-statuses":{"get":{"tags":["ReadStatus"],"summary":"User의 Message 읽음 상태 목록 조회","operationId":"findAllByUserId","parameters":[{"name":"user-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Message 읽음 상태 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":[{"userId":"59cdbeac-c530-47d8-905c-90fdaaf91884","channelId":"a5a4026a-f112-4398-8f88-a178a41001ce","lastReadAt":"-1000000000-01-01T00:00:00Z","id":"f61f950b-5f18-4e88-ae4a-6ac1955ede6b","createdAt":"2025-07-14T07:58:15.714150Z","updatedAt":null},{"userId":"59cdbeac-c530-47d8-905c-90fdaaf91884","channelId":"1bd22115-057d-481d-8560-553e3b29f20a","lastReadAt":"-1000000000-01-01T00:00:00Z","id":"ff0dbff1-d02d-423b-ac77-928b9154edda","createdAt":"2025-07-14T08:55:33.829918Z","updatedAt":null}]}}}}}},"/api/users/{user-id}/channels":{"get":{"tags":["Channel"],"summary":"User가 참여 중인 Channel 목록 조회","operationId":"findAll_1","parameters":[{"name":"user-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Channel 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}}}},"/api/channels/{channel-id}/messages":{"get":{"tags":["Message"],"summary":"Channel의 Message 목록 조회","operationId":"findAllByChannelId","parameters":[{"name":"channel-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Message 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":[{"content":"hi","channelId":"8fe2aae8-a48b-4003-b2ce-d624a58e9d2b","authorId":"d3f1ee9c-79a1-4094-b301-56ee9714a108","attachmentIds":[],"id":"52116946-20b0-477e-8d12-6f606adacfe8","createdAt":"2025-07-15T02:57:55.273700Z","updatedAt":null}]}}}}}},"/api/binary-contents":{"get":{"tags":["BinaryContent"],"summary":"여러 첨부 파일 조회","operationId":"findAllByIdIn","parameters":[{"name":"binaryContentId","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"uuid"}}}],"responses":{"200":{"description":"첨부 파일 목록 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"[\n  {\n        \"fileName\": \"profile.png\",\n        \"size\": 23771,\n        \"contentType\": \"image/png\",\n        \"bytes\": \n  }\n]\n"}}}}}},"/api/binary-contents/{binary-content-id}":{"get":{"tags":["BinaryContent"],"summary":"첨부 파일 조회","operationId":"find","parameters":[{"name":"binary-content-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"첨부 파일을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"BinaryContent with id {binaryContentId} not found\n"}}},"200":{"description":"첨부 파일 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"},"example":"{\n    \"fileName\": \"profile.png\",\n    \"size\": 23771,\n    \"contentType\": \"image/png\",\n    \"bytes\": \n}\n"}}}}}},"/api/channels/{channel-id}":{"delete":{"tags":["Channel"],"summary":"Channel 삭제","operationId":"delete_2","parameters":[{"name":"channel-id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"Channel을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"204":{"description":"Channel이 성공적으로 삭제됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}}}}},"components":{"schemas":{"UserCreateRequest":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"ApiError":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"details":{"type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"요청 성공 여부","example":true},"data":{"type":"object","description":"응답 데이터"},"error":{"$ref":"#/components/schemas/ApiError","description":"에러 정보"}}},"ValidationError":{"type":"object","properties":{"field":{"type":"string"},"reason":{"type":"string"}}},"ReadStatusCreateRequest":{"type":"object","properties":{"userId":{"type":"string","format":"uuid"},"channelId":{"type":"string","format":"uuid"},"lastReadAt":{"type":"string","format":"date-time"}}},"MessageCreateRequest":{"type":"object","properties":{"content":{"type":"string"},"channelId":{"type":"string","format":"uuid"},"authorId":{"type":"string","format":"uuid"}}},"PublicChannelCreateRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"PrivateChannelCreateRequest":{"type":"object","properties":{"participantIds":{"type":"array","items":{"type":"string","format":"uuid"}}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"UserUpdateRequest":{"type":"object","properties":{"newUsername":{"type":"string"},"newEmail":{"type":"string"},"newPassword":{"type":"string"}}},"UserStatusUpdateRequest":{"type":"object","properties":{"newLastActiveAt":{"type":"string","format":"date-time"}}},"ReadStatusUpdateRequest":{"type":"object","properties":{"newLastReadAt":{"type":"string","format":"date-time"}}},"MessageUpdateRequest":{"type":"object","properties":{"newContent":{"type":"string"}}},"PublicChannelUpdateRequest":{"type":"object","properties":{"newName":{"type":"string"},"newDescription":{"type":"string"}}}}}}